enabled: true
name: hubspot
base_url: https://api.hubapi.com
dateParser: '%Y-%m-%dT%H:%M:%S.%fZ'
paging:
  strategy: pagerToken
  pager_token_path: paging.next.after
  count_param: limit
  token_param: after
  page_size: 100
auth:
  type: HEADERS
  headers:
    Authorization: "Bearer {HUBSPOT_PRIVATE_APP_TOKEN}"
tables:
  - name: contacts
    query_resource: GET /crm/v3/objects/contacts
    result_body_path: results
    supports_paging: true
  - name: companies
    query_resource: GET /crm/v3/objects/companies
    result_body_path: results
    supports_paging: true
    strip_prefixes: properties_
    params:
      properties: sql@(select arrayStringConcat(groupArray(name),',') from company_properties)
  - name: company_properties
    query_resource: GET /crm/v3/properties/company
    result_body_path: results
    supports_paging: true
  - name: owners
    query_resource: GET /crm/v3/owners/
    result_body_path: results
    supports_paging: true
